(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{486:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return l}));var r=n(0),a=n(39),i=n(487),o=n(5),c=Object(a.a)({container:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"}}),l=function(){var e=c();return Object(o.jsx)("div",{className:e.container,children:Object(o.jsx)(i.BeatLoader,{size:"30px",margin:"4px",color:"#7D4CDB"})})},u=n(489),s=n.n(u),f=n(490),d=Object(a.a)({map:{height:"25rem"}}),p=function(e){var t=e.polyline,n=Object(r.useRef)(null),a=d();Object(r.useEffect)((function(){i()}));var i=function(){var e=f.toGeoJSON(t),r=function(e){var t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return e.reduce((function(e,t){return[Math.min(t[0],e[0]),Math.min(t[1],e[1]),Math.max(t[0],e[2]),Math.max(t[1],e[3])]}),t)}(e.coordinates),a=new s.a.Map({container:n.current||"",style:"mapbox://styles/mapbox/outdoors-v11",bounds:new s.a.LngLatBounds(r),fitBoundsOptions:{padding:{top:40,bottom:40,left:40,right:40}},accessToken:"pk.eyJ1Ijoiam1tYWwiLCJhIjoiY2tobXJhbHpqMHZmYTJwbnVwY21oaXl6byJ9.CZy7LN4IJff9dD5-orrPHw"});a.addControl(new s.a.NavigationControl),a.scrollZoom.disable(),a.on("load",(function(){a.addSource("route",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:e.coordinates}}}),a.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#008DD5","line-width":4}})}))};return Object(o.jsx)("div",{ref:n,className:a.map})}},518:function(e,t,n){"use strict";t.__esModule=!0,t.CircleAlert=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=a?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(r,o,c):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=n(31);function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=(0,r.forwardRef)((function(e,t){return r.default.createElement(a.StyledIcon,o({ref:t,viewBox:"0 0 24 24",a11yTitle:"CircleAlert"},e),r.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11zm-11 9a9 9 0 1 0 0-18 9 9 0 0 0 0 18zm1-15v8h-2V6h2zm0 10v2h-2v-2h2z",fill:"#000"}))}));t.CircleAlert=c,c.displayName="CircleAlert"},529:function(e,t,n){"use strict";n.r(t);var r=n(59),a=n.n(r),i=n(133),o=n(15),c=n(0),l=n.n(c),u=n(17),s=n(85),f=n(486),d=n(479),p=n(478),m=n(3),h=n(518),b=n(460),g=n(12),v=n(79),j=n(253),O=n(20),y=n(26),I=n(476),x=m.default.a.withConfig({shouldForwardProp:function(e,t){return!["as","colorProp","focus","hasIcon","hasLabel","reverse"].includes(e)&&t(e)}}).withConfig({displayName:"StyledAnchor",componentId:"sc-1rp7lwl-0"})(["box-sizing:border-box;"," color:",";"," text-decoration:",";cursor:pointer;"," "," "," "," "," ",""],(function(e){return function(e){if(e.size){var t=e.size||"medium",n=e.theme.text[t];return Object(m.css)(["font-size:",";line-height:",";"],n?n.size:t,n?n.height:"normal")}return Object(m.css)(["font-size:inherit;line-height:inherit;"])}(e)}),(function(e){return Object(y.c)(e.colorProp||e.theme.anchor.color,e.theme)}),(function(e){return e.weight?"font-weight: "+e.weight+";":e.theme.anchor.fontWeight&&"font-weight: "+e.theme.anchor.fontWeight+";"}),(function(e){return e.hasIcon?"none":e.theme.anchor.textDecoration}),v.i,(function(e){return!e.disabled&&e.theme.anchor.hover&&Object(m.css)(["&:hover{"," "," ","}"],e.theme.anchor.hover.textDecoration&&"text-decoration: "+e.theme.anchor.hover.textDecoration+";",e.theme.anchor.hover.fontWeight&&"font-weight: "+e.theme.anchor.hover.fontWeight+";",e.theme.anchor.hover.extend)}),(function(e){return e.hasIcon&&!e.hasLabel&&"\n    padding: "+e.theme.global.edgeSize.small+";\n  "}),(function(e){return e.disabled&&"\n  opacity: 0.3;\n  cursor: default;\n  text-decoration: none;\n"}),(function(e){return e.focus&&Object(v.h)()}),(function(e){return e.theme.anchor.extend}));x.defaultProps={},Object.setPrototypeOf(x.defaultProps,g.a);n(2);var w={},C=["a11yTitle","aria-label","children","color","disabled","gap","href","icon","label","onBlur","onClick","onFocus","reverse"];function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=Object(c.forwardRef)((function(e,t){var n=e.a11yTitle,r=e["aria-label"],a=e.children,i=e.color,o=e.disabled,u=e.gap,s=void 0===u?"small":u,f=e.href,d=e.icon,p=e.label,h=e.onBlur,b=e.onClick,v=e.onFocus,j=e.reverse,O=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,C),w=Object(c.useContext)(m.ThemeContext)||g.a.theme,E=Object(c.useState)(),z=E[0],S=E[1];Object(c.useEffect)((function(){(d||p)&&a&&console.warn("Anchor should not have children if icon or label is provided")}),[a,d,p]);var N=d;d&&!d.props.color&&(N=Object(c.cloneElement)(d,{color:Object(y.c)(i||w.anchor.color,w)}));var P=j?p:N,T=j?N:p;return l.a.createElement(x,k({},O,{ref:t,"aria-label":r||n,colorProp:i,disabled:o,hasIcon:!!d,focus:z,hasLabel:p,reverse:j,href:o?void 0:f,onClick:o?void 0:b,onFocus:function(e){S(!0),v&&v(e)},onBlur:function(e){S(!1),h&&h(e)}}),P&&T?l.a.createElement(I.a,{as:"span",direction:"row",align:"center",gap:s,responsive:!1,style:{display:"inline-flex"}},P,T):P||T||a)}));E.displayName="Anchor",E.propTypes=w;var z=n(473),S=n(132),N=n(480),P=m.default.input.withConfig({displayName:"StyledFileInput",componentId:"sc-rl7ywv-0"})(["position:absolute;height:100%;width:100%;"," opacity:0;border:none;"," "," &::-moz-focus-inner{border:none;outline:none;}"],v.l,(function(e){return!e.disabled&&"cursor: pointer;"}),(function(e){return e.rightOffset&&"\n    width: calc(100% - "+e.rightOffset+"px);\n    right: "+e.rightOffset+"px;\n    "}));P.defaultProps={},Object.setPrototypeOf(P.defaultProps,g.a);var T={},B=["a11yTitle","background","border","disabled","id","plain","renderFile","maxSize","messages","margin","multiple","name","onChange","pad","value"];function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var M=function(e){for(var t=["B","KB","MB","GB","TB"],n=0,r=e;r>=1e3&&n<t.length-1;)r/=1e3,n+=1;return r.toFixed(1)+" "+t[n]},L=Object(m.default)(I.a).withConfig({displayName:"FileInput__ContentsBox",componentId:"sc-1jzq7im-0"})(["position:relative;"," ",";",";",";"],(function(e){return e.disabled&&Object(v.e)()}),(function(e){return e.theme.fileInput&&e.theme.fileInput.extend}),(function(e){return e.hover&&e.theme.fileInput&&e.theme.fileInput.hover&&e.theme.fileInput.hover.extend}),(function(e){return e.dragOver&&e.theme.fileInput&&e.theme.fileInput.dragOver&&e.theme.fileInput.dragOver.extend})),_=Object(m.default)(p.a).withConfig({displayName:"FileInput__Label",componentId:"sc-1jzq7im-1"})(["",";"],(function(e){return e.theme.fileInput&&e.theme.fileInput.label&&e.theme.fileInput.label.extend})),A=Object(m.default)(p.a).withConfig({displayName:"FileInput__Message",componentId:"sc-1jzq7im-2"})(["",";"],(function(e){return e.theme.fileInput&&e.theme.fileInput.message&&e.theme.fileInput.message.extend})),R=Object(c.forwardRef)((function(e,t){e.a11yTitle,e.background,e.border;var n,r,a,i=e.disabled,o=e.id,u=e.plain,s=e.renderFile,f=e.maxSize,d=e.messages,p=(e.margin,e.multiple),g=e.name,v=e.onChange,y=(e.pad,e.value),x=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,B),w=Object(c.useContext)(m.ThemeContext),C=Object(c.useContext)(b.a).format,k=Object(c.useContext)(S.a),T=l.a.useState(),R=T[0],D=T[1],W=l.a.useState(),J=W[0],Y=W[1],V=p&&p.aggregateThreshold||10,G=null==p?void 0:p.max,q=Object(j.a)(t),U=Object(c.useRef)(),H=Object(c.useRef)(),Z=w.fileInput.icons.remove,X=k.useFormInput({name:g,value:y,initialValue:[],validate:[f?function(){var e="",t=[].concat(K).filter((function(e){return e.size>f})).length;if(t){var n="fileInput.maxSizeSingle";p&&(n="fileInput.maxSizeMultiple."+(1===t?"singular":"plural")),e=C({id:n,messages:d,values:{maxSize:M(f),numOfFiles:t}})}return e}:"",G?function(){var e="";return[].concat(K).length>G&&(e=C({id:"fileInput.maxFile",messages:d,values:{max:G}})),e}:""]}),K=X[0],Q=X[1],$=function(e,t){var n={},r=w.fileInput[e];r&&("object"!==typeof r?t?n[t]=r:n=r:n=F({},r));var a=w.fileInput.hover[e];R&&a&&("object"!==typeof a?t?n[t]=a:n=a:n=F({},n,a));var i=w.fileInput.dragOver[e];return J&&i&&("object"!==typeof i?t?n[t]=i:n=i:n=F({},n,i)),"object"===typeof n&&0===Object.keys(n).length?void 0:n};if($("pad")){var ee=$("pad"),te=ee.horizontal,ne=ee.right;ne?n=w.global.edgeSize[ne]||ne:te&&(n=w.global.edgeSize[te]||te)}if(H.current&&U.current){var re=U.current.getBoundingClientRect().width,ae=H.current.getBoundingClientRect().width;n&&"string"===typeof n&&(r=ae+Object(O.b)(n)),r=1===K.length||K.length>V?re+ae+2*Object(O.b)(w.global.edgeSize.small):re>ae?re+2*Object(O.b)(w.global.edgeSize.small):ae}else!K.length&&U.current&&(r=U.current.getBoundingClientRect().width+2*Object(O.b)(w.global.edgeSize.small));return a=K.length?K.length+" items":C({id:p?"fileInput.dropPromptMultiple":"fileInput.dropPrompt",messages:d}),l.a.createElement(L,{theme:w,flex:!1,disabled:i,background:$("background","color"),border:u?void 0:$("border","side"),margin:$("margin"),pad:$("pad"),round:$("round","size"),align:K.length?"stretch":"center",justify:"center",hover:R,onMouseOver:i?void 0:function(){return D(!0)},onMouseOut:i?void 0:function(){return D(!1)},dragOver:J},(!K.length||K.length>1)&&l.a.createElement(I.a,{align:"center",fill:"horizontal",direction:"row",justify:"between"},K.length<=V&&l.a.createElement(l.a.Fragment,null,l.a.createElement(A,w.fileInput.message,a),l.a.createElement(N.a,{onSpace:function(e){U.current===e.target&&q.current.click()},onEnter:function(e){U.current===e.target&&q.current.click()}},w.fileInput.button?l.a.createElement(z.a,{ref:U,kind:w.fileInput.button,label:C({id:"fileInput.browse",messages:d}),onClick:function(){q.current.click(),q.current.focus()}}):l.a.createElement(E,{tabIndex:0,alignSelf:"center",ref:U,margin:"small",onClick:function(){q.current.click(),q.current.focus()},label:C({id:"fileInput.browse",messages:d})})))),K.length>V&&l.a.createElement(I.a,{justify:"between",direction:"row",align:"center"},l.a.createElement(_,w.fileInput.label,K.length," ",C({id:"fileInput.files",messages:d})),l.a.createElement(I.a,{flex:!1,direction:"row",align:"center"},l.a.createElement(z.a,{ref:H,a11yTitle:C({id:"fileInput.removeAll",messages:d}),icon:l.a.createElement(Z,null),hoverIndicator:!0,onClick:function(e){e.stopPropagation(),v&&v(e,{files:[]}),Q([]),q.current.focus()}}),l.a.createElement(N.a,{onSpace:function(e){U.current===e.target&&q.current.click()},onEnter:function(e){U.current===e.target&&q.current.click()}},w.fileInput.button?l.a.createElement(z.a,{ref:U,kind:w.fileInput.button,label:C({id:"fileInput.browse",messages:d}),onClick:function(){q.current.click(),q.current.focus()}}):l.a.createElement(E,{tabIndex:0,alignSelf:"center",ref:U,margin:"small",onClick:function(){q.current.click(),q.current.focus()},label:C({id:"fileInput.browse",messages:d})})))),K.length>0&&K.length<=V&&K.map((function(e,t){return l.a.createElement(I.a,{key:e.name,justify:"between",direction:"row",align:"center"},s?s(e):l.a.createElement(I.a,F({},w.fileInput.label,{gap:"xsmall",align:"center",direction:"row"}),(f&&e.size>f||G&&t>=G)&&l.a.createElement(h.CircleAlert,null),l.a.createElement(_,{weight:w.global.input.weight||w.global.input.font.weight,truncate:!0},e.name)),l.a.createElement(I.a,{flex:!1,direction:"row",align:"center"},l.a.createElement(z.a,{ref:t?void 0:H,a11yTitle:C({id:"fileInput.remove",messages:d})+" "+e.name,icon:l.a.createElement(Z,null),hoverIndicator:!0,onClick:function(e){e.stopPropagation();var n=[].concat(K);n.splice(t,1),Q(n),v&&v(e,{files:n}),0===n.length&&(q.current.value=""),q.current.focus()}}),1===K.length&&l.a.createElement(N.a,{onSpace:function(e){U.current===e.target&&q.current.click()},onEnter:function(e){U.current===e.target&&q.current.click()}},w.fileInput.button?l.a.createElement(z.a,{ref:U,kind:w.fileInput.button,label:C({id:"fileInput.browse",messages:d}),onClick:function(){q.current.click(),q.current.focus()}}):l.a.createElement(E,{tabIndex:0,ref:U,margin:"small",onClick:function(){q.current.click(),q.current.focus()},label:C({id:"fileInput.browse",messages:d})}))))})),l.a.createElement(P,F({ref:q,type:"file",id:o,name:g,maxSize:f,multiple:p,disabled:i,plain:!0,rightOffset:r},x,{onDragOver:function(){return Y(!0)},onDragLeave:function(){return Y(!1)},onChange:function(e){e.persist();for(var t=e.target.files,n=p?[].concat(K):[],r=function(e){n.filter((function(n){return n.name===t[e].name&&n.size===t[e].size})).length>0||n.push(t[e])},a=0;a<t.length;a+=1)r(a);Q(n),Y(!1),v&&v(e,{files:n})}})))}));R.defaultProps={},Object.setPrototypeOf(R.defaultProps,g.a),R.displayName="FileInput",R.propTypes=T;var D=n(39),W=n(5),J="https://t9mdzi08qi.execute-api.ap-southeast-2.amazonaws.com/Staging",Y=Object(D.a)({container:{display:"flex",justifyContent:"center",width:"100%"},content:{width:"calc(100% - 2rem)",maxWidth:"30rem"},actions:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"},fileInput:{marginTop:"1rem",marginBottom:"1rem"},actionBtn:{minWidth:"calc(50% - 0.5rem)",marginBottom:"1rem"}});t.default=function(){var e=Object(u.g)(),t=Y(),n=Object(c.useState)(!1),r=Object(o.a)(n,2),l=r[0],m=r[1],h=Object(c.useState)(),b=Object(o.a)(h,2),g=b[0],v=b[1];function j(){return(j=Object(i.a)(a.a.mark((function t(){var n,r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!g){t.next=14;break}return m(!0),(n=new URLSearchParams).append("filename",g.name),t.next=6,fetch(J+"/upload?"+n.toString());case 6:return r=t.sent,t.next=9,r.json();case 9:return i=t.sent,t.next=12,fetch(i.uploadURL,{method:"PUT",headers:{"Content-Type":"binary/octet-stream"},body:g});case 12:m(!1),e("/activities");case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(W.jsx)("div",{className:t.container,children:Object(W.jsxs)("div",{className:t.content,children:[Object(W.jsx)(d.a,{id:"inputGroupFileAddon01",level:"2",children:"Upload"}),Object(W.jsx)(p.a,{children:"Accepted file types: '.gpx'"}),Object(W.jsx)("div",{className:t.fileInput,children:Object(W.jsx)(R,{onChange:function(e){var t,n=null===(t=e.target.files)||void 0===t?void 0:t.item(0);n&&v(n)}})}),Object(W.jsxs)("div",{className:t.actions,children:[Object(W.jsx)(s.b,{to:"/activities",className:t.actionBtn,children:Object(W.jsx)(z.a,{type:"button",label:"Go Back",fill:"horizontal"})}),Object(W.jsx)(z.a,{label:"Submit",type:"submit",className:t.actionBtn,onClick:function(){return j.apply(this,arguments)},disabled:!g})]}),l&&Object(W.jsx)(f.a,{})]})})}}}]);
//# sourceMappingURL=5.77435dec.chunk.js.map