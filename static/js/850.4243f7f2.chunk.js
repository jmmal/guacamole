"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[850],{6850:function(e,t,n){n.r(t);var i=n(9634),r=n(6995),a=n(6080),o=n.n(a),s=n(6167),c=n(3400),u=n(1e3),l=n(6772),d=n(7158),p=n(8096),m=n(5083),f=n(1780),h=n(2517),x=n(5160),y=n(9919),b="https://t9mdzi08qi.execute-api.ap-southeast-2.amazonaws.com/Staging",I=(0,x.QM)({container:{display:"flex",justifyContent:"center",width:"100%"},content:{width:"calc(100% - 2rem)",maxWidth:"30rem"},actions:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"},fileInput:{marginTop:"1rem",marginBottom:"1rem"},actionBtn:{minWidth:"calc(50% - 0.5rem)",marginBottom:"1rem"}});t.default=function(){var e=(0,c.s0)(),t=I(),n=(0,s.useState)(!1),a=(0,r.Z)(n,2),x=a[0],g=a[1],j=(0,s.useState)(),N=(0,r.Z)(j,2),v=N[0],w=N[1];function T(){return(T=(0,i.Z)(o().mark((function t(){var n,i,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!v){t.next=14;break}return g(!0),(n=new URLSearchParams).append("filename",v.name),t.next=6,fetch(b+"/upload?"+n.toString());case 6:return i=t.sent,t.next=9,i.json();case 9:return r=t.sent,t.next=12,fetch(r.uploadURL,{method:"PUT",headers:{"Content-Type":"binary/octet-stream"},body:v});case 12:g(!1),e("/activities");case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,y.jsx)("form",{className:t.container,children:(0,y.jsxs)("div",{className:t.content,children:[(0,y.jsx)(d.Z,{id:"inputGroupFileAddon01",sx:{marginTop:16},children:"Upload"}),(0,y.jsx)(p.Z,{children:"Accepted file types: '.gpx'"}),(0,y.jsx)("div",{className:t.fileInput,children:(0,y.jsx)("input",{type:"file",id:"myFile",name:"filename",onChange:function(e){var t,n=null===(t=e.target.files)||void 0===t?void 0:t.item(0);n&&w(n)}})}),(0,y.jsxs)(m.Z,{display:"flex",children:[(0,y.jsx)(u.rU,{to:"/activities",children:(0,y.jsx)(f.Z,{type:"button",children:"Go Back"})}),(0,y.jsx)(h.Z,{type:"submit",onClick:function(){return T.apply(this,arguments)},disabled:!v,children:"Submit"})]}),x&&(0,y.jsx)(l.g,{})]})})}},6772:function(e,t,n){n.d(t,{g:function(){return c},p:function(){return m}});var i=n(6167),r=n(5160),a=n(2049),o=n(9919),s=(0,r.QM)({container:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"}}),c=function(){var e=s();return(0,o.jsx)("div",{className:e.container,children:(0,o.jsx)(a.BeatLoader,{size:"30px",margin:"4px",color:"#7D4CDB"})})},u=n(2441),l=n.n(u),d=n(599),p=(0,r.QM)({map:{height:"25rem"}}),m=function(e){var t=e.polyline,n=(0,i.useRef)(null),r=p();(0,i.useEffect)((function(){a()}));var a=function(){var e=d.toGeoJSON(t),i=function(e){var t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return e.reduce((function(e,t){return[Math.min(t[0],e[0]),Math.min(t[1],e[1]),Math.max(t[0],e[2]),Math.max(t[1],e[3])]}),t)}(e.coordinates),r=new(l().Map)({container:n.current||"",style:"mapbox://styles/mapbox/outdoors-v11",bounds:new(l().LngLatBounds)(i),fitBoundsOptions:{padding:{top:40,bottom:40,left:40,right:40}},accessToken:"pk.eyJ1Ijoiam1tYWwiLCJhIjoiY2tobXJhbHpqMHZmYTJwbnVwY21oaXl6byJ9.CZy7LN4IJff9dD5-orrPHw"});r.addControl(new(l().NavigationControl)),r.scrollZoom.disable(),r.on("load",(function(){r.addSource("route",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:e.coordinates}}}),r.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#008DD5","line-width":4}})}))};return(0,o.jsx)("div",{ref:n,className:r.map})}}}]);
//# sourceMappingURL=850.4243f7f2.chunk.js.map