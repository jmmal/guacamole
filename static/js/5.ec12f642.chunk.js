(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{486:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return l}));var r=n(0),a=n(39),i=n(487),o=n(5),c=Object(a.a)({container:{width:"100%",display:"flex",justifyContent:"center",margin:"2rem 0"}}),l=function(){var e=c();return Object(o.jsx)("div",{className:e.container,children:Object(o.jsx)(i.BeatLoader,{size:"30px",margin:"4px",color:"#7D4CDB"})})},u=n(489),s=n.n(u),f=n(490),d=Object(a.a)({map:{height:"25rem"}}),p=function(e){var t=e.polyline,n=Object(r.useRef)(null),a=d();Object(r.useEffect)((function(){i()}));var i=function(){var e=f.toGeoJSON(t),r=function(e){var t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return e.reduce((function(e,t){return[Math.min(t[0],e[0]),Math.min(t[1],e[1]),Math.max(t[0],e[2]),Math.max(t[1],e[3])]}),t)}(e.coordinates),a=new s.a.Map({container:n.current||"",style:"mapbox://styles/mapbox/outdoors-v11",bounds:new s.a.LngLatBounds(r),fitBoundsOptions:{padding:{top:40,bottom:40,left:40,right:40}},accessToken:"pk.eyJ1Ijoiam1tYWwiLCJhIjoiY2tobXJhbHpqMHZmYTJwbnVwY21oaXl6byJ9.CZy7LN4IJff9dD5-orrPHw"});a.addControl(new s.a.NavigationControl),a.scrollZoom.disable(),a.on("load",(function(){a.addSource("route",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:e.coordinates}}}),a.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#008DD5","line-width":4}})}))};return Object(o.jsx)("div",{ref:n,className:a.map})}},518:function(e,t,n){"use strict";t.__esModule=!0,t.CircleAlert=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=a?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(r,o,c):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=n(31);function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=(0,r.forwardRef)((function(e,t){return r.default.createElement(a.StyledIcon,o({ref:t,viewBox:"0 0 24 24",a11yTitle:"CircleAlert"},e),r.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11zm-11 9a9 9 0 1 0 0-18 9 9 0 0 0 0 18zm1-15v8h-2V6h2zm0 10v2h-2v-2h2z",fill:"#000"}))}));t.CircleAlert=c,c.displayName="CircleAlert"},529:function(e,t,n){"use strict";n.r(t);var r=n(59),a=n.n(r),i=n(133),o=n(15),c=n(0),l=n.n(c),u=n(17),s=n(85),f=n(486),d=n(479),p=n(478),m=n(3),h=n(518),b=n(460),g=n(12),v=n(79),j=n(254),O=n(20),y=n(26),I=n(476),x=m.default.a.withConfig({shouldForwardProp:function(e,t){return!["as","colorProp","focus","hasIcon","hasLabel","reverse"].includes(e)&&t(e)}}).withConfig({displayName:"StyledAnchor",componentId:"sc-1rp7lwl-0"})(["box-sizing:border-box;"," color:",";"," text-decoration:",";cursor:pointer;"," "," "," "," "," ",""],(function(e){return function(e){if(e.size){var t=e.size||"medium",n=e.theme.text[t];return Object(m.css)(["font-size:",";line-height:",";"],n?n.size:t,n?n.height:"normal")}return Object(m.css)(["font-size:inherit;line-height:inherit;"])}(e)}),(function(e){return Object(y.c)(e.colorProp||e.theme.anchor.color,e.theme)}),(function(e){return e.weight?"font-weight: "+e.weight+";":e.theme.anchor.fontWeight&&"font-weight: "+e.theme.anchor.fontWeight+";"}),(function(e){return e.hasIcon?"none":e.theme.anchor.textDecoration}),v.i,(function(e){return!e.disabled&&e.theme.anchor.hover&&Object(m.css)(["&:hover{"," "," ","}"],e.theme.anchor.hover.textDecoration&&"text-decoration: "+e.theme.anchor.hover.textDecoration+";",e.theme.anchor.hover.fontWeight&&"font-weight: "+e.theme.anchor.hover.fontWeight+";",e.theme.anchor.hover.extend)}),(function(e){return e.hasIcon&&!e.hasLabel&&"\n    padding: "+e.theme.global.edgeSize.small+";\n  "}),(function(e){return e.disabled&&"\n  opacity: 0.3;\n  cursor: default;\n  text-decoration: none;\n"}),(function(e){return e.focus&&Object(v.h)()}),(function(e){return e.theme.anchor.extend}));x.defaultProps={},Object.setPrototypeOf(x.defaultProps,g.a);n(2);var w={},C=["a11yTitle","aria-label","children","color","disabled","gap","href","icon","label","onBlur","onClick","onFocus","reverse"];function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=Object(c.forwardRef)((function(e,t){var n=e.a11yTitle,r=e["aria-label"],a=e.children,i=e.color,o=e.disabled,u=e.gap,s=void 0===u?"small":u,f=e.href,d=e.icon,p=e.label,h=e.onBlur,b=e.onClick,v=e.onFocus,j=e.reverse,O=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,C),w=Object(c.useContext)(m.ThemeContext)||g.a.theme,E=Object(c.useState)(),S=E[0],z=E[1];Object(c.useEffect)((function(){(d||p)&&a&&console.warn("Anchor should not have children if icon or label is provided")}),[a,d,p]);var N=d;d&&!d.props.color&&(N=Object(c.cloneElement)(d,{color:Object(y.c)(i||w.anchor.color,w)}));var P=j?p:N,T=j?N:p;return l.a.createElement(x,k({},O,{ref:t,"aria-label":r||n,colorProp:i,disabled:o,hasIcon:!!d,focus:S,hasLabel:p,reverse:j,href:o?void 0:f,onClick:o?void 0:b,onFocus:function(e){z(!0),v&&v(e)},onBlur:function(e){z(!1),h&&h(e)}}),P&&T?l.a.createElement(I.a,{as:"span",direction:"row",align:"center",gap:s,responsive:!1,style:{display:"inline-flex"}},P,T):P||T||a)}));E.displayName="Anchor",E.propTypes=w;var S=n(473),z=n(132),N=n(480),P=m.default.input.withConfig({displayName:"StyledFileInput",componentId:"sc-rl7ywv-0"})(["position:absolute;height:100%;width:100%;"," opacity:0;border:none;"," "," &::-moz-focus-inner{border:none;outline:none;}"],v.l,(function(e){return!e.disabled&&"cursor: pointer;"}),(function(e){return e.rightOffset&&"\n    width: calc(100% - "+e.rightOffset+"px);\n    right: "+e.rightOffset+"px;\n    "}));P.defaultProps={},Object.setPrototypeOf(P.defaultProps,g.a);var T={},B=["a11yTitle","background","border","confirmRemove","disabled","id","plain","renderFile","maxSize","messages","margin","multiple","name","onChange","pad","value"];function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var M=function(e){for(var t=["B","KB","MB","GB","TB"],n=0,r=e;r>=1024&&n<t.length-1;)r/=1024,n+=1;return r.toFixed(1)+" "+t[n]},R=Object(m.default)(I.a).withConfig({displayName:"FileInput__ContentsBox",componentId:"sc-1jzq7im-0"})(["position:relative;"," ",";",";",";"],(function(e){return e.disabled&&Object(v.e)()}),(function(e){return e.theme.fileInput&&e.theme.fileInput.extend}),(function(e){return e.hover&&e.theme.fileInput&&e.theme.fileInput.hover&&e.theme.fileInput.hover.extend}),(function(e){return e.dragOver&&e.theme.fileInput&&e.theme.fileInput.dragOver&&e.theme.fileInput.dragOver.extend})),L=Object(m.default)(p.a).withConfig({displayName:"FileInput__Label",componentId:"sc-1jzq7im-1"})(["",";"],(function(e){return e.theme.fileInput&&e.theme.fileInput.label&&e.theme.fileInput.label.extend})),_=Object(m.default)(p.a).withConfig({displayName:"FileInput__Message",componentId:"sc-1jzq7im-2"})(["",";"],(function(e){return e.theme.fileInput&&e.theme.fileInput.message&&e.theme.fileInput.message.extend})),A={event:void 0,index:void 0},D=Object(c.forwardRef)((function(e,t){e.a11yTitle,e.background,e.border;var n,r,a,i=e.confirmRemove,o=e.disabled,u=e.id,s=e.plain,f=e.renderFile,d=e.maxSize,p=e.messages,g=(e.margin,e.multiple),v=e.name,y=e.onChange,x=(e.pad,e.value),w=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,B),C=Object(c.useContext)(m.ThemeContext),k=Object(c.useContext)(b.a).format,T=Object(c.useContext)(z.a),D=l.a.useState(),W=D[0],J=D[1],Y=l.a.useState(),V=Y[0],G=Y[1],q=Object(c.useState)(!1),U=q[0],H=q[1],Z=Object(c.useState)(A),X=Z[0],K=Z[1],Q=g&&g.aggregateThreshold||10,$=null==g?void 0:g.max,ee=Object(j.a)(t),te=Object(c.useRef)(),ne=Object(c.useRef)(),re=i,ae=C.fileInput.icons.remove,ie=T.useFormInput({name:v,value:x,initialValue:[],validate:[d?function(){var e="",t=[].concat(oe).filter((function(e){return e.size>d})).length;if(t){var n="fileInput.maxSizeSingle";g&&(n="fileInput.maxSizeMultiple."+(1===t?"singular":"plural")),e=k({id:n,messages:p,values:{maxSize:M(d),numOfFiles:t}})}return e}:"",$?function(){var e="";return[].concat(oe).length>$&&(e=k({id:"fileInput.maxFile",messages:p,values:{max:$}})),e}:""]}),oe=ie[0],ce=ie[1],le=function(e,t){var n={},r=C.fileInput[e];r&&("object"!==typeof r?t?n[t]=r:n=r:n=F({},r));var a=C.fileInput.hover[e];W&&a&&("object"!==typeof a?t?n[t]=a:n=a:n=F({},n,a));var i=C.fileInput.dragOver[e];return V&&i&&("object"!==typeof i?t?n[t]=i:n=i:n=F({},n,i)),"object"===typeof n&&0===Object.keys(n).length?void 0:n};if(le("pad")){var ue=le("pad"),se=ue.horizontal,fe=ue.right;fe?n=C.global.edgeSize[fe]||fe:se&&(n=C.global.edgeSize[se]||se)}if(ne.current&&te.current){var de=te.current.getBoundingClientRect().width,pe=ne.current.getBoundingClientRect().width;n&&"string"===typeof n&&(r=pe+Object(O.b)(n)),r=1===oe.length||oe.length>Q?de+pe+2*Object(O.b)(C.global.edgeSize.small):de>pe?de+2*Object(O.b)(C.global.edgeSize.small):pe}else!oe.length&&te.current&&(r=te.current.getBoundingClientRect().width+2*Object(O.b)(C.global.edgeSize.small));a=oe.length?oe.length+" items":k({id:g?"fileInput.dropPromptMultiple":"fileInput.dropPrompt",messages:p});var me=function(e,t){var n;e.stopPropagation(),"all"===t?n=[]:(n=[].concat(oe)).splice(t,1),ce(n),y&&y(e,{files:n}),0===n.length&&(ee.current.value=""),ee.current.focus()};return l.a.createElement(l.a.Fragment,null,l.a.createElement(R,{theme:C,flex:!1,disabled:o,background:le("background","color"),border:s?void 0:le("border","side"),margin:le("margin"),pad:le("pad"),round:le("round","size"),align:oe.length?"stretch":"center",justify:"center",hover:W,onMouseOver:o?void 0:function(){return J(!0)},onMouseOut:o?void 0:function(){return J(!1)},dragOver:V},(!oe.length||oe.length>1)&&l.a.createElement(I.a,{align:"center",fill:"horizontal",direction:"row",justify:"between"},oe.length<=Q&&l.a.createElement(l.a.Fragment,null,l.a.createElement(_,C.fileInput.message,a),l.a.createElement(N.a,{onSpace:function(e){te.current===e.target&&ee.current.click()},onEnter:function(e){te.current===e.target&&ee.current.click()}},C.fileInput.button?l.a.createElement(S.a,{ref:te,kind:C.fileInput.button,label:k({id:"fileInput.browse",messages:p}),onClick:function(){ee.current.click(),ee.current.focus()}}):l.a.createElement(E,{tabIndex:0,alignSelf:"center",ref:te,margin:"small",onClick:function(){ee.current.click(),ee.current.focus()},label:k({id:"fileInput.browse",messages:p})})))),oe.length>Q&&l.a.createElement(I.a,{justify:"between",direction:"row",align:"center"},l.a.createElement(L,C.fileInput.label,oe.length," ",k({id:"fileInput.files",messages:p})),l.a.createElement(I.a,{flex:!1,direction:"row",align:"center"},l.a.createElement(S.a,{ref:ne,a11yTitle:k({id:"fileInput.removeAll",messages:p}),icon:l.a.createElement(ae,null),hoverIndicator:!0,onClick:function(e){i?(e.persist(),K({event:e,index:"all"}),H(!0)):me(e,"all")}}),l.a.createElement(N.a,{onSpace:function(e){te.current===e.target&&ee.current.click()},onEnter:function(e){te.current===e.target&&ee.current.click()}},C.fileInput.button?l.a.createElement(S.a,{ref:te,kind:C.fileInput.button,label:k({id:"fileInput.browse",messages:p}),onClick:function(){ee.current.click(),ee.current.focus()}}):l.a.createElement(E,{tabIndex:0,alignSelf:"center",ref:te,margin:"small",onClick:function(){ee.current.click(),ee.current.focus()},label:k({id:"fileInput.browse",messages:p})})))),oe.length>0&&oe.length<=Q&&oe.map((function(e,t){return l.a.createElement(I.a,{key:e.name,justify:"between",direction:"row",align:"center"},f?f(e):l.a.createElement(I.a,F({},C.fileInput.label,{gap:"xsmall",align:"center",direction:"row"}),(d&&e.size>d||$&&t>=$)&&l.a.createElement(h.CircleAlert,null),l.a.createElement(L,{weight:C.global.input.weight||C.global.input.font.weight,truncate:!0},e.name)),l.a.createElement(I.a,{flex:!1,direction:"row",align:"center"},l.a.createElement(S.a,{ref:t?void 0:ne,a11yTitle:k({id:"fileInput.remove",messages:p})+" "+e.name,icon:l.a.createElement(ae,null),hoverIndicator:!0,onClick:function(e){i?(e.persist(),K({event:e,index:t}),H(!0)):me(e,t)}}),1===oe.length&&l.a.createElement(N.a,{onSpace:function(e){te.current===e.target&&ee.current.click()},onEnter:function(e){te.current===e.target&&ee.current.click()}},C.fileInput.button?l.a.createElement(S.a,{ref:te,kind:C.fileInput.button,label:k({id:"fileInput.browse",messages:p}),onClick:function(){ee.current.click(),ee.current.focus()}}):l.a.createElement(E,{tabIndex:0,ref:te,margin:"small",onClick:function(){ee.current.click(),ee.current.focus()},label:k({id:"fileInput.browse",messages:p})}))))})),l.a.createElement(P,F({ref:ee,type:"file",id:u,name:v,maxSize:d,multiple:g,disabled:o,plain:!0,rightOffset:r},w,{onDragOver:function(){return G(!0)},onDragLeave:function(){return G(!1)},onChange:function(e){e.persist();for(var t=e.target.files,n=g?[].concat(oe):[],r=function(e){n.filter((function(n){return n.name===t[e].name&&n.size===t[e].size})).length>0||n.push(t[e])},a=0;a<t.length;a+=1)r(a);ce(n),G(!1),y&&y(e,{files:n})}}))),U&&l.a.createElement(re,{onConfirm:function(){me(X.event,X.index),K(A),H(!1)},onCancel:function(){return H(!1)}}))}));D.defaultProps={},Object.setPrototypeOf(D.defaultProps,g.a),D.displayName="FileInput",D.propTypes=T;var W=n(39),J=n(5),Y="https://t9mdzi08qi.execute-api.ap-southeast-2.amazonaws.com/Staging",V=Object(W.a)({container:{display:"flex",justifyContent:"center",width:"100%"},content:{width:"calc(100% - 2rem)",maxWidth:"30rem"},actions:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"},fileInput:{marginTop:"1rem",marginBottom:"1rem"},actionBtn:{minWidth:"calc(50% - 0.5rem)",marginBottom:"1rem"}});t.default=function(){var e=Object(u.g)(),t=V(),n=Object(c.useState)(!1),r=Object(o.a)(n,2),l=r[0],m=r[1],h=Object(c.useState)(),b=Object(o.a)(h,2),g=b[0],v=b[1];function j(){return(j=Object(i.a)(a.a.mark((function t(){var n,r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!g){t.next=14;break}return m(!0),(n=new URLSearchParams).append("filename",g.name),t.next=6,fetch(Y+"/upload?"+n.toString());case 6:return r=t.sent,t.next=9,r.json();case 9:return i=t.sent,t.next=12,fetch(i.uploadURL,{method:"PUT",headers:{"Content-Type":"binary/octet-stream"},body:g});case 12:m(!1),e("/activities");case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(J.jsx)("div",{className:t.container,children:Object(J.jsxs)("div",{className:t.content,children:[Object(J.jsx)(d.a,{id:"inputGroupFileAddon01",level:"2",children:"Upload"}),Object(J.jsx)(p.a,{children:"Accepted file types: '.gpx'"}),Object(J.jsx)("div",{className:t.fileInput,children:Object(J.jsx)(D,{onChange:function(e){var t,n=null===(t=e.target.files)||void 0===t?void 0:t.item(0);n&&v(n)}})}),Object(J.jsxs)("div",{className:t.actions,children:[Object(J.jsx)(s.b,{to:"/activities",className:t.actionBtn,children:Object(J.jsx)(S.a,{type:"button",label:"Go Back",fill:"horizontal"})}),Object(J.jsx)(S.a,{label:"Submit",type:"submit",className:t.actionBtn,onClick:function(){return j.apply(this,arguments)},disabled:!g})]}),l&&Object(J.jsx)(f.a,{})]})})}}}]);
//# sourceMappingURL=5.ec12f642.chunk.js.map